<!DOCTYPE html>
<html lang="en">

{% include 'header.html' %}

  <body>

    <div class="container-narrow">

      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="/">Home</a></li>
          <li><a href="/login">Login</a></li>
          <li class="active"><a href="/allusers">Users</a></li>
          <li><a href="/about">About</a></li>
        </ul>
        <h3 class="muted">wools++</h3>
      </div>
       <hr>

      <div class="jumbotron">
      	
		{% if stat_length < 1 %}
 		<div class="alert alert-info">Looks like {{ player.name }} just joined!  There's no data for you to see yet.  Just wait a few hours for 
 			wools++ to work its magic, and then you'll see some cool stuff here.  Check back later!
 		</div>
 		{% else %}		
        <p class="lead"> {{ player.name }}: Status Report</p>
        
        {% for img in graph_urls %}
          <img src="{{ img }}"> <br>
			Direct Link: <span class="input-xlarge uneditable-input"> http://www.woolsplusplus.appspot.com{{ img }} </span><br>
			HTML: <span class="input-xlarge uneditable-input"> &#60;img src="http://www.woolsplusplus.appspot.com{{ img }}"&#62; </span><br>
        {% endfor %}
   
 		<hr>
 		<div class="row">
 		<p class="lead">General Stats</p>
 			<table class=" table table-hover table-bordered">
	 			<thead>
				<th> when </th>
				<th> kills </th>
				<th> deaths </th>
				<th> wools </th>
				<th> cores </th>
				<th> monuments </th>
				<th> objectives </th>
				</thead>
				{% for i in range(table_size) %}		
				<tr>
	<!-- This is terrible programming practice, but it's mostly for debugging ATM -->		
					<td> {{ date_strings[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.kills[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.deaths[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.wools[table_size - 1- loop.index0] }} </td>
					<td> {{ player.cores[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.monuments[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.objectives[table_size - 1 - loop.index0] }} </td>
				</tr>
				{% endfor %}
        	</table>

 		<p class="lead">Stats / Deaths</p>
 			<table class=" table table-hover table-bordered">
	 			<thead>
				<th> when </th>
				<th> kd </th>
				<th> wd </th>
				<th> cd </th>
				<th> md </th>
				<th> od </th>
				</thead>
				{% for i in range(table_size) %}		
				<tr>
	<!-- This is terrible programming practice, but it's mostly for debugging ATM -->				
					<td> {{ date_strings[table_size - 1 - loop.index0] }} </td>
					<td> {{ '%.4f' % player.kd[table_size - 1- loop.index0] }} </td>
					<td> {{ '%.4f' % player.wd[table_size - 1 - loop.index0] }} </td>
					<td> {{ '%.4f' % player.cd[table_size - 1 - loop.index0] }} </td>
					<td> {{ '%.4f' % player.md[table_size - 1 - loop.index0] }} </td>
					<td> {{ '%.4f' % player.od[table_size - 1 - loop.index0] }} </td>
				</tr>
			{% endfor %}
        	</table>
        
         <p class="lead">Rolling Stats</p>
         
        {% if stat_length <= n_entries %}  
 		<div class="alert alert-info">You don't have enough data yet to produce any rolling stats.  Check back later!</div>
 		{% else %}       
         
 			<table class=" table table-hover table-bordered">
	 			<thead>
				<th> when </th>
				<th> rk7 </th>
				<th> rd7 </th>
				<th> rw7 </th>
				<th> rc7 </th>
				<th> rm7 </th>
				<th> ro7 </th>
				</thead>
				{% for i in range(table_size) %}		
				<tr>
	<!-- This is terrible programming practice, but it's mostly for debugging ATM -->				
					<td> {{ date_strings[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.rk7[table_size - 1- loop.index0] }} </td>
					<td> {{ player.rd7[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.rw7[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.rc7[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.rm7[table_size - 1 - loop.index0] }} </td>
					<td> {{ player.ro7[table_size - 1 - loop.index0] }} </td>
				</tr>
			{% endfor %}
        	</table>
        	
 		<p class="lead">Rolling Stats / Deaths</p>
 			<table class=" table table-hover table-bordered">
	 			<thead>
				<th> when </th>
				<th> rkd7 </th>
				<th> rwd7 </th>
				<th> rcd7 </th>
				<th> rmd7 </th>
				<th> rod7 </th>
				</thead>
				{% for i in range(table_size) %}		
				<tr>
	<!-- This is terrible programming practice, but it's mostly for debugging ATM -->				
					<td> {{ date_strings[table_size - 1 - loop.index0] }} </td>
					<td> {{ '%.4f' % player.rkd7[table_size - 1- loop.index0] }} </td>
					<td> {{ '%.4f' % player.rwd7[table_size - 1 - loop.index0] }} </td>
					<td> {{ '%.4f' % player.rcd7[table_size - 1 - loop.index0] }} </td>
					<td> {{ '%.4f' % player.rmd7[table_size - 1 - loop.index0] }} </td>
					<td> {{ '%.4f' % player.rod7[table_size - 1 - loop.index0] }} </td>
				</tr>
			{% endfor %}
        	</table>
        {% endif %}
        
        <br>
        <br>
 			<table class=" table table-hover table-bordered">	
			<tr>
<!-- This is terrible programming practice, but it's mostly for debugging ATM -->				
				<td> {{ player.dates | length }} </td>
				<td> {{ player.kills | length }} </td>
				<td> {{ player.deaths | length }} </td>
				<td> {{ player.wools | length }} </td>
				<td> {{ player.cores | length }} </td>
				<td> {{ player.monuments | length }} </td>
				<td> {{ player.objectives | length}} </td>
				<td> {{ player.kd | length }} </td>
				<td> {{ player.wd | length }} </td>
				<td> {{ player.cd | length }} </td>
				<td> {{ player.md | length }} </td>
				<td> {{ player.od | length}} </td>
				<td> {{ player.rk7 | length }} </td>
				<td> {{ player.rd7 | length }} </td>
				<td> {{ player.rw7 | length }} </td>
				<td> {{ player.rc7 | length }} </td>
				<td> {{ player.rm7 | length }} </td>
				<td> {{ player.ro7 | length}} </td>
				<td> {{ player.rkd7 | length }} </td>
				<td> {{ player.rwd7 | length }} </td>
				<td> {{ player.rcd7 | length }} </td>
				<td> {{ player.rmd7 | length }} </td>
				<td> {{ player.rod7 | length}} </td>
			</tr>
        </table>        
        
      </div>
      {% endif %}
    </div>

	{% include 'footer.html' %}

  </body>
</html>
